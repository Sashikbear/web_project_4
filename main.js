!function(){"use strict";class e{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_resetForm(){this._inputList.forEach((e=>{this._hideInputError(e)}))}resetValidation(){this._toggleButtonState(),this._resetForm()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class s{constructor(e,s,r){let{data:n,handleCardClick:i,handleDeleteCard:o,handleLikeButton:a}=e;t(this,"removeCardFromDOM",(()=>{this._element.remove(),this._element=null})),t(this,"handleLikeCard",(e=>{this._likes=e,this._likesCount.textContent=this._likes.length,this._likeButton.classList.toggle("button_active")})),this._name=n.name,this._link=n.link,this._id=n._id,this._ownerId=n.owner._id,this._userId=r,this._likes=n.likes,this._cardSelector=s,this._handleCardClick=i,this._handleLikeButton=a,this._handleDeleteCard=o,this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".button_type_like"),this._deleteButton=this._element.querySelector(".button_type_delete"),this._cardImage=this._element.querySelector(".card__image"),this._cardImageTitle=this._element.querySelector(".card__title"),this._likesCount=this._element.querySelector(".card__like-counter")}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._deleteButton.addEventListener("click",(()=>this._handleDeleteCard(this._id))),this._likeButton.addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardImage.addEventListener("click",(()=>this._handleCardClick({name:this._name,src:this._link})))}isLiked(){return this._likes.some((e=>e._id===this._userId))}generateCard(){return this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._link,this._cardImageTitle.textContent=this._name,this._likesCount.textContent=this._likes.length,this._ownerId!==this._userId&&(this._deleteButton.style.display="none"),this.isLiked()&&this.handleLikeCard(this._likes),this._element}}const r=document.querySelector(".popup__input_type_name"),n=document.querySelector(".popup__input_type_job"),i=document.querySelector(".button_type_edit"),o=document.querySelector(".button_type_add"),a=document.querySelector(".profile__image-overlay");class l{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_opened")||e.target.classList.contains("button_type_close"))&&this.close()}))}}var u=class extends l{constructor(e,t){super(e),this._handleFormSubmit=t,this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupElement.querySelector(".popup__button"),this._inputs=Array.from(this._popupForm.querySelectorAll(".popup__input"))}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}processing(){this._button.textContent="Saving..."}open(){"create"===this._button.id?this._button.textContent="Create":this._button.textContent="Save",super.open()}close(){super.close(),this._popupForm.reset()}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(()=>this._handleFormSubmit(this._getInputValues())))}};const c={};var h;h={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(h.formSelector)).forEach((t=>{const s=new e(h,t),r=t.getAttribute("name");c[r]=s,s.enableValidation()}));const _=new class{constructor(e){let{name:t,about:s,avatar:r,userNameSelector:n,userAboutSelector:i,avatarSelector:o}=e;this._name=t,this._about=s,this._avatar=r,this._userNameElement=document.querySelector(n),this._userAboutElement=document.querySelector(i),this._avatarElement=document.querySelector(o)}getUserInfo(){return{name:this._userNameElement.textContent,about:this._userAboutElement.textContent}}setUserInfo(e){let{name:t,about:s,avatar:r}=e;this._userNameElement.textContent=t||this._name,this._userAboutElement.textContent=s||this._about,this._avatarElement.src=r||this._avatar,this._avatarElement.alt=t||this._name}}({userNameSelector:".profile__user-name",userAboutSelector:".profile__user-job",avatarSelector:".profile__image"}),d=new u(".popup_type_profile",(function(e){d.processing(),C.editProfile(e).then((e=>{_.setUserInfo(e)})).finally((()=>{d.close()}))})),p=new u(".popup_type_add-card",(function(e){let{name:t,url:s}=e;p.processing();const r={name:t,link:s};C.createCard(r).then((e=>{E.addItem(e)})).finally((()=>{p.close()}))})),m=new u(".popup_type_avatar",(function(e){m.processing(),C.editAvatar(e).then((e=>{_.setUserInfo(e)})).finally((()=>{m.close()}))})),b=new class extends l{constructor(e){super(e),this._imageZoom=this._popupElement.querySelector(".popup__image"),this._imageZoomTitle=this._popupElement.querySelector(".popup__title")}open(e){let{link:t,name:s}=e;super.open(),this._imageZoom.src=t,this._imageZoom.alt="Image of ".concat(s),this._imageZoomTitle.textContent=s}}(".popup_type_zoom-card"),v=new class extends l{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._submitHandler=e}setEventListeners(){super.setEventListeners(),this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()}))}processing(){this._button.textContent="Deleting..."}open(){this._button.textContent="Yes",super.open()}}(".popup_type_delete");d.setEventListeners(),p.setEventListeners(),b.setEventListeners(),v.setEventListeners(),m.setEventListeners(),i.addEventListener("click",(function(){d.open();const{name:e,about:t}=_.getUserInfo();r.value=e,n.value=t,c["form-profile"].resetValidation()}));const E=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}renderItems(e){e.forEach((e=>{this.addItem(e)}))}}({renderer:e=>{const t=new s({data:e,handleCardClick:()=>{b.open({link:e.link,name:e.name})},handleDeleteCard:e=>{v.open(),v.setAction((()=>{v.processing(),C.deleteCard(e).finally((()=>{t.removeCardFromDOM(),v.close()}))}))},handleLikeButton:e=>{t.isLiked()?C.unlikeCard(e).then((e=>{t.handleLikeCard(e.likes)})):C.likeCard(e).then((e=>{t.handleLikeCard(e.likes)}))}},"#card",f);return t.generateCard()}},".cards__card-grid");o.addEventListener("click",(function(){p.open(),c["form-add-card"].resetValidation()}));const C=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,n;n=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).catch((e=>{console.log("Error: ".concat(e))})),(r="_customFetch")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this._baseUrl=t,this._headers=s}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}createCard(e){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}deleteCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}editProfile(e){let{name:t,about:s}=e;return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})})}editAvatar(e){let{avatar:t}=e;return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}unlikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"0d380c06-5bf9-4f9e-b38f-f8e4b1728003","Content-Type":"application/json"}});let f;Promise.all([C.getUserInfo(),C.getInitialCards()]).then((e=>{let[t,s]=e;f=t._id,_.setUserInfo({name:t.name,about:t.about,avatar:t.avatar}),E.renderItems(s.reverse())})),a.addEventListener("click",(function(){m.open(),c["form-avatar"].resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ3RELEVBQUlMLGNBQWVLLEVBQUkrQyxvQkFBb0I3QyxNQUN0RCxJQUEwQixJQUF4QkgsRUFBVXdELEdBQWMsRUFDeEI5SSxFQUFTc0YsRUFBU3RFLElBQ2xCd0QsRUFBU1csWUFBWSxDQUNuQnRFLEtBQU15RSxFQUFTekUsS0FDZjRELE1BQU9hLEVBQVNiLE1BQ2hCN0IsT0FBUTBDLEVBQVMxQyxTQUVuQm1ELEVBQVNrQixZQUFZNkIsRUFBU0MsY0FVbENuRyxFQUFPcEQsaUJBQWlCLFNBSnhCLFdBQ0V5RyxFQUFZL0MsT0FDWmtCLEVBQWUsZUFBZTFFLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgX3Jlc2V0Rm9ybSgpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5fcmVzZXRGb3JtKCk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDYXJkLCBoYW5kbGVMaWtlQnV0dG9uIH0sXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIHVzZXJJZFxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfbGlrZVwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfZGVsZXRlXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9saWtlc0NvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQpXG4gICAgKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9pZClcbiAgICApO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIHNyYzogdGhpcy5fbGluayB9KVxuICAgICk7XG4gIH1cblxuICByZW1vdmVDYXJkRnJvbURPTSA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9O1xuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzb24pID0+IHBlcnNvbi5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cbiAgaGFuZGxlTGlrZUNhcmQgPSAobmV3TGlrZXMpID0+IHtcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xuICAgIHRoaXMuX2xpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfTtcblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5oYW5kbGVMaWtlQ2FyZCh0aGlzLl9saWtlcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9qb2JcIik7XG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfZWRpdFwiKTtcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2FkZFwiKTtcbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLW92ZXJsYXlcIik7XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlbmVkXCIpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnV0dG9uX3R5cGVfY2xvc2VcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZVpvb20gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgdGhpcy5faW1hZ2Vab29tVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIik7XG4gIH1cblxuICBvcGVuKHsgbGluaywgbmFtZSB9KSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2ltYWdlWm9vbS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlWm9vbS5hbHQgPSBgSW1hZ2Ugb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5faW1hZ2Vab29tVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxuICAgICk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG4gIHByb2Nlc3NpbmcoKSB7XG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgfVxuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLl9idXR0b24uaWQgPT09IFwiY3JlYXRlXCIpIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiQ3JlYXRlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAgIH1cblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7XG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG4gIGVkaXRCdXR0b24sXG4gIGFkZEJ1dHRvbixcbiAgYXZhdGFyLFxuICBjb25maWcsXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qc1wiO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBmb3JtIHZhbGlkYXRpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XG5cbi8qIC0tLS0tLS0tLS0tLS0gbmV3IGNsYXNzZXMnIGluc3RhbmNlcyB3aXRoIG5lY2Vzc2FyeSBzZWxlY3RvcnMgLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1uYW1lXCIsXG4gIHVzZXJBYm91dFNlbGVjdG9yOiBcIi5wcm9maWxlX191c2VyLWpvYlwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIucG9wdXBfdHlwZV9wcm9maWxlXCIsXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XG4pO1xuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIixcbiAgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXRcbik7XG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsIGhhbmRsZUF2YXRhclN1Ym1pdCk7XG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfem9vbS1jYXJkXCIpO1xuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xuXG4vKiAtLSBlbmFibGUgaW5oZXJpdGVkIGV2ZW50bGlzdGVuZXJzIG9uIGluc3RhbmNlcyBmcm9tIHBhcmVudCBQb3B1cCBjbGFzcyAtLSAqL1xuXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBlZGl0aW5nIHRoZSBwcm9maWxlIGJsb2NrIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KHVzZXJEYXRhKSB7XG4gIHByb2ZpbGVQb3B1cC5wcm9jZXNzaW5nKCk7XG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZSh1c2VyRGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRCdXR0b24oKSB7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gYWJvdXQ7XG4gIGZvcm1WYWxpZGF0b3JzW1wiZm9ybS1wcm9maWxlXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0QnV0dG9uKTtcblxuLyogLS0tLS0tIHVzaW5nIG5ldyBpbnN0YW5jZSBvZiBTZWN0aW9uIGNsYXNzIHRvIGRpc3BsYXkgaW5pdGlhbCBjYXJkcyAtLS0tLS0gKi9cblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICB7XG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIGltYWdlUG9wdXAub3Blbih7IGxpbms6IGRhdGEubGluaywgbmFtZTogZGF0YS5uYW1lIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlRGVsZXRlQ2FyZDogKGlkKSA9PiB7XG4gICAgICAgICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgIGRlbGV0ZVBvcHVwLnByb2Nlc3NpbmcoKTtcbiAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoaWQpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZEZyb21ET00oKTtcbiAgICAgICAgICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlTGlrZUJ1dHRvbjogKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0FscmVhZHlsaWtlZCA9IGNhcmQuaXNMaWtlZCgpO1xuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeWxpa2VkKSB7XG4gICAgICAgICAgICAgIGFwaS51bmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFwiI2NhcmRcIixcbiAgICAgICAgdXNlcklkXG4gICAgICApO1xuICAgICAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNfX2NhcmQtZ3JpZFwiXG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYWRkaW5nIG5ldyBjYXJkIGJsb2NrIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KHsgbmFtZSwgdXJsIH0pIHtcbiAgYWRkQ2FyZFBvcHVwLnByb2Nlc3NpbmcoKTtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGxpbms6IHVybCxcbiAgfTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKHJlcyk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUFkZEJ1dHRvbigpIHtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJmb3JtLWFkZC1jYXJkXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVBZGRCdXR0b24pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaW52b2tpbmcgQXBpIGluc3RhbmNlIHdpdGggdmFsaWQgdG9rZW4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIwZDM4MGMwNi01YmY5LTRmOWUtYjM4Zi1mOGU0YjE3MjgwMDNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcG9wdWxhdGluZyBwYWdlIHdpdGggIGluaXRpYWwgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5sZXQgdXNlcklkO1xuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKFxuICAoW3VzZXJEYXRhLCBjYXJkRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgIGFib3V0OiB1c2VyRGF0YS5hYm91dCxcbiAgICAgIGF2YXRhcjogdXNlckRhdGEuYXZhdGFyLFxuICAgIH0pO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmREYXRhLnJldmVyc2UoKSk7XG4gIH1cbik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB1cGRhdGluZyBhdmF0YXIgYmxvY2sgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyQ2xpY2soKSB7XG4gIGF2YXRhclBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJmb3JtLWF2YXRhclwiXS5yZXNldFZhbGlkYXRpb24oKTtcbn1cbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQXZhdGFyQ2xpY2spO1xuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KHVzZXJEYXRhKSB7XG4gIGF2YXRhclBvcHVwLnByb2Nlc3NpbmcoKTtcbiAgYXBpXG4gICAgLmVkaXRBdmF0YXIodXNlckRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lLFxuICAgIGFib3V0LFxuICAgIGF2YXRhcixcbiAgICB1c2VyTmFtZVNlbGVjdG9yLFxuICAgIHVzZXJBYm91dFNlbGVjdG9yLFxuICAgIGF2YXRhclNlbGVjdG9yLFxuICB9KSB7XG4gICAgKHRoaXMuX25hbWUgPSBuYW1lKSxcbiAgICAgICh0aGlzLl9hYm91dCA9IGFib3V0KSxcbiAgICAgICh0aGlzLl9hdmF0YXIgPSBhdmF0YXIpLFxuICAgICAgKHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3RvcikpLFxuICAgICAgKHRoaXMuX3VzZXJBYm91dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBYm91dFNlbGVjdG9yKSksXG4gICAgICAodGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fdXNlckFib3V0RWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lIHx8IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fdXNlckFib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0IHx8IHRoaXMuX2Fib3V0O1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyIHx8IHRoaXMuX2F2YXRhcjtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LmFsdCA9IG5hbWUgfHwgdGhpcy5fbmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5jbGFzcyBQb3B1cFdpdGhEZWxldGUgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICB9XG4gIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG4gIH1cbiAgcHJvY2Vzc2luZygpIHtcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlllc1wiO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhEZWxldGU7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBjYXJkID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuYWRkSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuICBfY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgaGVhZGVycylcbiAgICAgIC50aGVuKChyZXMpID0+XG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxuICAgICAgKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKTtcbiAgICAgIH0pO1xuICB9O1xuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG4gIGNyZWF0ZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG4gIH1cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuICBlZGl0UHJvZmlsZSh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG4gIGVkaXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgfSk7XG4gIH1cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX3Jlc2V0Rm9ybSIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VCdXR0b24iLCJfZWxlbWVudCIsIm5ld0xpa2VzIiwiX2xpa2VzIiwiX2xpa2VzQ291bnQiLCJsZW5ndGgiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlcklkIiwibGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfZ2V0VGVtcGxhdGUiLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9jYXJkSW1hZ2VUaXRsZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsInNyYyIsImlzTGlrZWQiLCJwZXJzb24iLCJnZW5lcmF0ZUNhcmQiLCJhbHQiLCJzdHlsZSIsImRpc3BsYXkiLCJoYW5kbGVMaWtlQ2FyZCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImF2YXRhciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9idXR0b24iLCJfaW5wdXRzIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJvY2Vzc2luZyIsInJlc2V0IiwiZm9ybVZhbGlkYXRvcnMiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsInVzZXJJbmZvIiwiYWJvdXQiLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9hYm91dCIsIl9hdmF0YXIiLCJfdXNlck5hbWVFbGVtZW50IiwiX3VzZXJBYm91dEVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwcm9maWxlUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwidXNlckRhdGEiLCJhcGkiLCJlZGl0UHJvZmlsZSIsInRoZW4iLCJyZXMiLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwIiwidXJsIiwiY3JlYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImF2YXRhclBvcHVwIiwiZWRpdEF2YXRhciIsImltYWdlUG9wdXAiLCJfaW1hZ2Vab29tIiwiX2ltYWdlWm9vbVRpdGxlIiwiZGVsZXRlUG9wdXAiLCJzZXRBY3Rpb24iLCJhY3Rpb24iLCJfc3VibWl0SGFuZGxlciIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImNhcmQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsImRlbGV0ZUNhcmQiLCJyZW1vdmVDYXJkRnJvbURPTSIsInVubGlrZUNhcmQiLCJsaWtlQ2FyZCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jdXN0b21GZXRjaCIsImdldEluaXRpYWxDYXJkcyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImNhcmREYXRhIiwicmV2ZXJzZSJdLCJzb3VyY2VSb290IjoiIn0=