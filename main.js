!function(){"use strict";class e{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_resetForm(){this._inputList.forEach((e=>{this._hideInputError(e)}))}resetValidation(){this._toggleButtonState(),this._resetForm()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class s{constructor(e,s,r){let{data:n,handleCardClick:i,handleDeleteCard:o,handleLikeButton:a}=e;t(this,"removeCardFromDOM",(()=>{this._element.remove(),this._element=null})),t(this,"handleLikeCard",(e=>{this._likes=e,this._likesCount.textContent=this._likes.length,this._likeButton.classList.toggle("button_active")})),this._name=n.name,this._link=n.link,this._id=n._id,this._ownerId=n.owner._id,this._userId=r,this._likes=n.likes,this._cardSelector=s,this._handleCardClick=i,this._handleLikeButton=a,this._handleDeleteCard=o,this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".button_type_like"),this._deleteButton=this._element.querySelector(".button_type_delete"),this._cardImage=this._element.querySelector(".card__image"),this._cardImageTitle=this._element.querySelector(".card__title"),this._likesCount=this._element.querySelector(".card__like-counter")}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._deleteButton.addEventListener("click",(()=>this._handleDeleteCard(this._id))),this._likeButton.addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardImage.addEventListener("click",(()=>this._handleCardClick({name:this._name,src:this._link})))}isLiked(){return this._likes.some((e=>e._id===this._userId))}generateCard(){return this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._link,this._cardImageTitle.textContent=this._name,this._likesCount.textContent=this._likes.length,this._ownerId!==this._userId&&(this._deleteButton.style.display="none"),this.isLiked()&&this.handleLikeCard(this._likes),this._element}}const r=document.querySelector(".popup__input_type_name"),n=document.querySelector(".popup__input_type_job"),i=document.querySelector(".button_type_edit"),o=document.querySelector(".button_type_add"),a=document.querySelector(".profile__image-overlay");class l{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_opened")||e.target.classList.contains("button_type_close"))&&this.close()}))}}var u=class extends l{constructor(e,t){super(e),this._handleFormSubmit=t,this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupElement.querySelector(".popup__button"),this._inputs=Array.from(this._popupForm.querySelectorAll(".popup__input"))}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}processing(){this._button.textContent="Saving..."}open(){"create"===this._button.id?this._button.textContent="Create":this._button.textContent="Save",super.open()}close(){super.close(),this._popupForm.reset()}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(()=>this._handleFormSubmit(this._getInputValues())))}};const c={};var h;h={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(h.formSelector)).forEach((t=>{const s=new e(h,t),r=t.getAttribute("name");c[r]=s,s.enableValidation()}));const _=new class{constructor(e){let{name:t,about:s,avatar:r,userNameSelector:n,userAboutSelector:i,avatarSelector:o}=e;this._name=t,this._about=s,this._avatar=r,this._userNameElement=document.querySelector(n),this._userAboutElement=document.querySelector(i),this._avatarElement=document.querySelector(o)}getUserInfo(){return{name:this._userNameElement.textContent,about:this._userAboutElement.textContent}}setUserInfo(e){let{name:t,about:s,avatar:r}=e;this._userNameElement.textContent=t||this._name,this._userAboutElement.textContent=s||this._about,this._avatarElement.style.backgroundImage="url(".concat(r,")")||0}}({userNameSelector:".profile__user-name",userAboutSelector:".profile__user-job",avatarSelector:".profile__image"}),d=new u(".popup_type_profile",(function(e){d.processing(),C.editProfile(e).then((e=>{_.setUserInfo(e)})).finally((()=>{d.close()}))})),p=new u(".popup_type_add-card",(function(e){let{name:t,url:s}=e;p.processing();const r={name:t,link:s};C.createCard(r).then((e=>{v.addItem(e)})).finally((()=>{p.close()}))})),m=new u(".popup_type_avatar",(function(e){m.processing(),C.editAvatar(e).then((e=>{_.setUserInfo(e)})).finally((()=>{m.close()}))})),b=new class extends l{constructor(e){super(e),this._imageZoom=this._popupElement.querySelector(".popup__image"),this._imageZoomTitle=this._popupElement.querySelector(".popup__title")}open(e){let{link:t,name:s}=e;super.open(),this._imageZoom.src=t,this._imageZoom.alt="Image of ".concat(s),this._imageZoomTitle.textContent=s}}(".popup_type_zoom-card"),E=new class extends l{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._submitHandler=e}setEventListeners(){super.setEventListeners(),this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()}))}processing(){this._button.textContent="Deleting..."}open(){this._button.textContent="Yes",super.open()}}(".popup_type_delete");d.setEventListeners(),p.setEventListeners(),b.setEventListeners(),E.setEventListeners(),m.setEventListeners(),i.addEventListener("click",(function(){d.open();const{name:e,about:t}=_.getUserInfo();r.value=e,n.value=t,c["form-profile"].resetValidation()}));const v=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}renderItems(e){e.forEach((e=>{this.addItem(e)}))}}({renderer:e=>{const t=new s({data:e,handleCardClick:()=>{b.open({link:e.link,name:e.name})},handleDeleteCard:e=>{E.open(),E.setAction((()=>{E.processing(),C.deleteCard(e).finally((()=>{t.removeCardFromDOM(),E.close()}))}))},handleLikeButton:e=>{t.isLiked()?C.unlikeCard(e).then((e=>{t.handleLikeCard(e.likes)})):C.likeCard(e).then((e=>{t.handleLikeCard(e.likes)}))}},"#card",y);return t.generateCard()}},".cards__card-grid");o.addEventListener("click",(function(){p.open(),c["form-add-card"].resetValidation()}));const C=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,n;n=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).catch((e=>{console.log("Error: ".concat(e))})),(r="_customFetch")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this._baseUrl=t,this._headers=s}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}createCard(e){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}deleteCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}editProfile(e){let{name:t,about:s}=e;return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})})}editAvatar(e){let{avatar:t}=e;return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}unlikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"0d380c06-5bf9-4f9e-b38f-f8e4b1728003","Content-Type":"application/json"}});let y;Promise.all([C.getUserInfo(),C.getInitialCards()]).then((e=>{let[t,s]=e;y=t._id,_.setUserInfo({name:t.name,about:t.about,avatar:t.avatar}),v.renderItems(s.reverse())})),a.addEventListener("click",(function(){m.open(),c["form-avatar"].resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFDdEQsSUFBMEIsSUFBeEJILEVBQVV3RCxHQUFjLEVBQ3hCL0ksRUFBU3VGLEVBQVN2RSxJQUNsQndELEVBQVNXLFlBQVksQ0FDbkJ0RSxLQUFNMEUsRUFBUzFFLEtBQ2Y0RCxNQUFPYyxFQUFTZCxNQUNoQjdCLE9BQVEyQyxFQUFTM0MsU0FFbkJvRCxFQUFTa0IsWUFBWTZCLEVBQVNDLGNBVWxDcEcsRUFBT3BELGlCQUFpQixTQUp4QixXQUNFMEcsRUFBWWhELE9BQ1prQixFQUFlLGVBQWUxRSxxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH1cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIF9yZXNldEZvcm0oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX3Jlc2V0Rm9ybSgpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgaGFuZGxlTGlrZUJ1dHRvbiB9LFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICB1c2VySWRcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2xpa2VcIik7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2RlbGV0ZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fbGlrZXNDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIik7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2lkKVxuICAgICk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5faWQpXG4gICAgKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBzcmM6IHRoaXMuX2xpbmsgfSlcbiAgICApO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZEZyb21ET00gPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfTtcbiAgaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG4gIGhhbmRsZUxpa2VDYXJkID0gKG5ld0xpa2VzKSA9PiB7XG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcbiAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImJ1dHRvbl9hY3RpdmVcIik7XG4gIH07XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2xpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMuaGFuZGxlTGlrZUNhcmQodGhpcy5fbGlrZXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfam9iXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2VkaXRcIik7XG5leHBvcnQgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fdHlwZV9hZGRcIik7XG5leHBvcnQgY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1vdmVybGF5XCIpO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSB8fFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJ1dHRvbl90eXBlX2Nsb3NlXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2Vab29tID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2ltYWdlWm9vbVRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlXCIpO1xuICB9XG5cbiAgb3Blbih7IGxpbmssIG5hbWUgfSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9pbWFnZVpvb20uc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZVpvb20uYWx0ID0gYEltYWdlIG9mICR7bmFtZX1gO1xuICAgIHRoaXMuX2ltYWdlWm9vbVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIilcbiAgICApO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuICBwcm9jZXNzaW5nKCkge1xuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIH1cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5fYnV0dG9uLmlkID09PSBcImNyZWF0ZVwiKSB7XG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWF0ZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgICB9XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICApO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQge1xuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBlZGl0QnV0dG9uLFxuICBhZGRCdXR0b24sXG4gIGF2YXRhcixcbiAgY29uZmlnLFxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanNcIjtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBmb3JtIHZhbGlkYXRpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XG5cbi8qIC0tLS0tLS0tLS0tLS0gbmV3IGNsYXNzZXMnIGluc3RhbmNlcyB3aXRoIG5lY2Vzc2FyeSBzZWxlY3RvcnMgLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1uYW1lXCIsXG4gIHVzZXJBYm91dFNlbGVjdG9yOiBcIi5wcm9maWxlX191c2VyLWpvYlwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIucG9wdXBfdHlwZV9wcm9maWxlXCIsXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XG4pO1xuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIixcbiAgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXRcbik7XG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsIGhhbmRsZUF2YXRhclN1Ym1pdCk7XG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfem9vbS1jYXJkXCIpO1xuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xuXG4vKiAtLSBlbmFibGUgaW5oZXJpdGVkIGV2ZW50bGlzdGVuZXJzIG9uIGluc3RhbmNlcyBmcm9tIHBhcmVudCBQb3B1cCBjbGFzcyAtLSAqL1xuXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBlZGl0aW5nIHRoZSBwcm9maWxlIGJsb2NrIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KHVzZXJEYXRhKSB7XG4gIHByb2ZpbGVQb3B1cC5wcm9jZXNzaW5nKCk7XG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZSh1c2VyRGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRCdXR0b24oKSB7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gYWJvdXQ7XG4gIGZvcm1WYWxpZGF0b3JzW1wiZm9ybS1wcm9maWxlXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0QnV0dG9uKTtcblxuLyogLS0tLS0tIHVzaW5nIG5ldyBpbnN0YW5jZSBvZiBTZWN0aW9uIGNsYXNzIHRvIGRpc3BsYXkgaW5pdGlhbCBjYXJkcyAtLS0tLS0gKi9cblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICB7XG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIGltYWdlUG9wdXAub3Blbih7IGxpbms6IGRhdGEubGluaywgbmFtZTogZGF0YS5uYW1lIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlRGVsZXRlQ2FyZDogKGlkKSA9PiB7XG4gICAgICAgICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgIGRlbGV0ZVBvcHVwLnByb2Nlc3NpbmcoKTtcbiAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoaWQpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZEZyb21ET00oKTtcbiAgICAgICAgICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlTGlrZUJ1dHRvbjogKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0FscmVhZHlsaWtlZCA9IGNhcmQuaXNMaWtlZCgpO1xuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeWxpa2VkKSB7XG4gICAgICAgICAgICAgIGFwaS51bmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFwiI2NhcmRcIixcbiAgICAgICAgdXNlcklkXG4gICAgICApO1xuICAgICAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNfX2NhcmQtZ3JpZFwiXG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYWRkaW5nIG5ldyBjYXJkIGJsb2NrIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KHsgbmFtZSwgdXJsIH0pIHtcbiAgYWRkQ2FyZFBvcHVwLnByb2Nlc3NpbmcoKTtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGxpbms6IHVybCxcbiAgfTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKHJlcyk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUFkZEJ1dHRvbigpIHtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJmb3JtLWFkZC1jYXJkXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVBZGRCdXR0b24pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaW52b2tpbmcgQXBpIGluc3RhbmNlIHdpdGggdmFsaWQgdG9rZW4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIwZDM4MGMwNi01YmY5LTRmOWUtYjM4Zi1mOGU0YjE3MjgwMDNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcG9wdWxhdGluZyBwYWdlIHdpdGggIGluaXRpYWwgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5sZXQgdXNlcklkO1xuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKFxuICAoW3VzZXJEYXRhLCBjYXJkRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgIGFib3V0OiB1c2VyRGF0YS5hYm91dCxcbiAgICAgIGF2YXRhcjogdXNlckRhdGEuYXZhdGFyLFxuICAgIH0pO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmREYXRhLnJldmVyc2UoKSk7XG4gIH1cbik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB1cGRhdGluZyBhdmF0YXIgYmxvY2sgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyQ2xpY2soKSB7XG4gIGF2YXRhclBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJmb3JtLWF2YXRhclwiXS5yZXNldFZhbGlkYXRpb24oKTtcbn1cbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQXZhdGFyQ2xpY2spO1xuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KHVzZXJEYXRhKSB7XG4gIGF2YXRhclBvcHVwLnByb2Nlc3NpbmcoKTtcbiAgYXBpXG4gICAgLmVkaXRBdmF0YXIodXNlckRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lLFxuICAgIGFib3V0LFxuICAgIGF2YXRhcixcbiAgICB1c2VyTmFtZVNlbGVjdG9yLFxuICAgIHVzZXJBYm91dFNlbGVjdG9yLFxuICAgIGF2YXRhclNlbGVjdG9yLFxuICB9KSB7XG4gICAgKHRoaXMuX25hbWUgPSBuYW1lKSxcbiAgICAgICh0aGlzLl9hYm91dCA9IGFib3V0KSxcbiAgICAgICh0aGlzLl9hdmF0YXIgPSBhdmF0YXIpLFxuICAgICAgKHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3RvcikpLFxuICAgICAgKHRoaXMuX3VzZXJBYm91dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBYm91dFNlbGVjdG9yKSksXG4gICAgICAodGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fdXNlckFib3V0RWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lIHx8IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fdXNlckFib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0IHx8IHRoaXMuX2Fib3V0O1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID1cbiAgICAgIGB1cmwoJHthdmF0YXJ9KWAgfHwgYHVybCgke3RoaXMuX2F2YXRhcn0pYDtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5jbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICB9XG4gIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG4gIH1cbiAgcHJvY2Vzc2luZygpIHtcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlllc1wiO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhDb25maXJtYXRpb247XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBjYXJkID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuYWRkSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuICBfY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgaGVhZGVycylcbiAgICAgIC50aGVuKChyZXMpID0+XG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxuICAgICAgKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKTtcbiAgICAgIH0pO1xuICB9O1xuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG4gIGNyZWF0ZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG4gIH1cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuICBlZGl0UHJvZmlsZSh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG4gIGVkaXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgfSk7XG4gIH1cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX3Jlc2V0Rm9ybSIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VCdXR0b24iLCJfZWxlbWVudCIsIm5ld0xpa2VzIiwiX2xpa2VzIiwiX2xpa2VzQ291bnQiLCJsZW5ndGgiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlcklkIiwibGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfZ2V0VGVtcGxhdGUiLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9jYXJkSW1hZ2VUaXRsZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsInNyYyIsImlzTGlrZWQiLCJwZXJzb24iLCJnZW5lcmF0ZUNhcmQiLCJhbHQiLCJzdHlsZSIsImRpc3BsYXkiLCJoYW5kbGVMaWtlQ2FyZCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImF2YXRhciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9idXR0b24iLCJfaW5wdXRzIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJvY2Vzc2luZyIsInJlc2V0IiwiZm9ybVZhbGlkYXRvcnMiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsInVzZXJJbmZvIiwiYWJvdXQiLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9hYm91dCIsIl9hdmF0YXIiLCJfdXNlck5hbWVFbGVtZW50IiwiX3VzZXJBYm91dEVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJiYWNrZ3JvdW5kSW1hZ2UiLCJwcm9maWxlUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwidXNlckRhdGEiLCJhcGkiLCJlZGl0UHJvZmlsZSIsInRoZW4iLCJyZXMiLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwIiwidXJsIiwiY3JlYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImF2YXRhclBvcHVwIiwiZWRpdEF2YXRhciIsImltYWdlUG9wdXAiLCJfaW1hZ2Vab29tIiwiX2ltYWdlWm9vbVRpdGxlIiwiZGVsZXRlUG9wdXAiLCJzZXRBY3Rpb24iLCJhY3Rpb24iLCJfc3VibWl0SGFuZGxlciIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImNhcmQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsImRlbGV0ZUNhcmQiLCJyZW1vdmVDYXJkRnJvbURPTSIsInVubGlrZUNhcmQiLCJsaWtlQ2FyZCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jdXN0b21GZXRjaCIsImdldEluaXRpYWxDYXJkcyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImNhcmREYXRhIiwicmV2ZXJzZSJdLCJzb3VyY2VSb290IjoiIn0=