!function(){"use strict";class e{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_resetForm(){this._inputList.forEach((e=>{this._hideInputError(e)}))}resetValidation(){this._toggleButtonState(),this._resetForm()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class s{constructor(e,s,r){let{data:n,handleCardClick:o,handleDeleteCard:i,handleLikeButton:a}=e;t(this,"removeCardFromDOM",(()=>{this._element.remove(),this._element=null})),t(this,"handleLikeCard",(e=>{this._likes=e,this._renderLikes()})),this._name=n.name,this._link=n.link,this._id=n._id,this._ownerId=n.owner._id,this._userId=r,this._likes=n.likes,this._cardSelector=s,this._handleCardClick=o,this._handleLikeButton=a,this._handleDeleteCard=i}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._deleteButton.addEventListener("click",(()=>this._handleDeleteCard(this._id))),this._likeButton.addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardImage.addEventListener("click",(()=>this._handleCardClick({name:this._name,src:this._link})))}isLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._likesCount.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("button_active"):this._likeButton.classList.remove("button_active")}generateCard(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".button_type_like"),this._deleteButton=this._element.querySelector(".button_type_delete"),this._cardImage=this._element.querySelector(".card__image"),this._cardImageTitle=this._element.querySelector(".card__title"),this._likesCount=this._element.querySelector(".card__like-counter"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._link,this._cardImageTitle.textContent=this._name,this._renderLikes(),this._ownerId!==this._userId&&(this._deleteButton.style.display="none"),this._element}}const r=document.querySelector(".popup__input_type_name"),n=document.querySelector(".popup__input_type_job"),o=document.querySelector(".button_type_edit"),i=document.querySelector(".button_type_add"),a=document.querySelector(".profile__image-overlay");function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class c{constructor(e){l(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),l(this,"_handleMouseDownClose",(e=>{(e.target.classList.contains("popup_opened")||e.target.classList.contains("button_type_close"))&&this.close()})),this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleMouseDownClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleMouseDownClose)}}var h=class extends c{constructor(e,t,s){super(e),this._handleFormSubmit=t,this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupElement.querySelector(".popup__button"),this._buttonText=s,this._inputs=Array.from(this._popupForm.querySelectorAll(".popup__input"))}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}formReset(){this._popupForm.reset()}showLoading(){this._button.textContent="Saving..."}hideLoading(){this._button.textContent=this._buttonText}setEventListeners(){this._popupForm.addEventListener("submit",(()=>this._handleFormSubmit(this._getInputValues())))}};const u={};var _;_={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(_.formSelector)).forEach((t=>{const s=new e(_,t),r=t.getAttribute("name");u[r]=s,s.enableValidation()}));const d=new class{constructor(e){let{name:t,about:s,avatar:r,userNameSelector:n,userAboutSelector:o,avatarSelector:i}=e;this._name=t,this._about=s,this._avatar=r,this._userNameElement=document.querySelector(n),this._userAboutElement=document.querySelector(o),this._avatarElement=document.querySelector(i)}getUserInfo(){return{name:this._userNameElement.textContent,about:this._userAboutElement.textContent}}setAvatar(e){let{avatar:t}=e;this._avatarElement.style.backgroundImage="url(".concat(t||this._avatar,")")}setUserInfo(e){let{name:t,about:s}=e;this._userNameElement.textContent=t||this._name,this._userAboutElement.textContent=s||this._about}}({userNameSelector:".profile__user-name",userAboutSelector:".profile__user-job",avatarSelector:".profile__image"}),p=new h(".popup_type_profile",(function(e){p.showLoading(),g.editProfile(e).then((e=>{d.setUserInfo(e),p.formReset(),p.close()})).catch((e=>{console.log("Error: ".concat(e))})).finally((()=>{p.hideLoading()}))}),"Save"),m=new h(".popup_type_add-card",(function(e){let{name:t,url:s}=e;m.showLoading();const r={name:t,link:s};g.createCard(r).then((e=>{f.addItem(e),m.formReset(),m.close()})).catch((e=>{console.log("Error: ".concat(e))})).finally((()=>{m.hideLoading()}))}),"Create"),b=new h(".popup_type_avatar",(function(e){b.showLoading(),g.editAvatar(e).then((e=>{d.setAvatar(e),b.formReset(),b.close()})).catch((e=>{console.log("Error: ".concat(e))})).finally((()=>{b.hideLoading()}))}),"Save"),E=new class extends c{constructor(e){super(e),this._imageZoom=this._popupElement.querySelector(".popup__image"),this._imageZoomTitle=this._popupElement.querySelector(".popup__title")}open(e){let{link:t,name:s}=e;super.open(),this._imageZoom.src=t,this._imageZoom.alt="Image of ".concat(s),this._imageZoomTitle.textContent=s}}(".popup_type_zoom-card"),v=new class extends c{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._handleSubmit=e}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()}))}showLoading(){this._button.textContent="Deleting..."}hideLoading(){this._button.textContent="Yes"}}(".popup_type_delete");p.setEventListeners(),m.setEventListeners(),v.setEventListeners(),b.setEventListeners(),o.addEventListener("click",(function(){p.open();const{name:e,about:t}=d.getUserInfo();r.value=e,n.value=t,u["form-profile"].resetValidation()}));const f=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}renderItems(e){e.forEach((e=>{this.addItem(e)}))}}({renderer:e=>{const t=new s({data:e,handleCardClick:()=>{E.open({link:e.link,name:e.name})},handleDeleteCard:e=>{v.open(),v.setAction((()=>{v.showLoading(),g.deleteCard(e).then((()=>{t.removeCardFromDOM(),v.close()})).catch((e=>{console.log("Error: ".concat(e))})).finally((()=>{v.hideLoading()}))}))},handleLikeButton:e=>{t.isLiked()?g.unlikeCard(e).then((e=>{t.handleLikeCard(e.likes)})).catch((e=>{console.log("Error: ".concat(e))})):g.likeCard(e).then((e=>{t.handleLikeCard(e.likes)})).catch((e=>{console.log("Error: ".concat(e))}))}},"#card",y);return t.generateCard()}},".cards__card-grid");i.addEventListener("click",(function(){m.open(),u["form-add-card"].resetValidation()}));const g=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,n;n=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))),(r="_customFetch")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this._baseUrl=t,this._headers=s}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}createCard(e){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}deleteCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}editProfile(e){let{name:t,about:s}=e;return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})})}editAvatar(e){let{avatar:t}=e;return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}unlikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"0d380c06-5bf9-4f9e-b38f-f8e4b1728003","Content-Type":"application/json"}});let y;Promise.all([g.getUserInfo(),g.getInitialCards()]).then((e=>{let[t,s]=e;y=t._id,d.setUserInfo({name:t.name,about:t.about}),d.setAvatar({avatar:t.avatar}),f.renderItems(s.reverse())})).catch((e=>{console.log("Error: ".concat(e))})),a.addEventListener("click",(function(){b.open(),u["form-avatar"].resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBTCxVQUFxQjNMLEtBQUt5TCxTQUExQix3QkFBa0RRLEdBQVUsQ0FDakVmLFFBQVNsTCxLQUFLMEwsU0FDZEcsT0FBUSxRQUdaZixXQUFXbUIsR0FDVCxPQUFPak0sS0FBSzJMLGFBQUwsVUFBcUIzTCxLQUFLeUwsU0FBMUIsd0JBQWtEUSxHQUFVLENBQ2pFZixRQUFTbEwsS0FBSzBMLFNBQ2RHLE9BQVEsYUorSE0sQ0FDbEJaLFFBQVMsOENBQ1RDLFFBQVMsQ0FDUGdCLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBTXBCLElBQUluSixFQUNKdUksUUFBUWEsSUFBSSxDQUFDdkQsRUFBSVAsY0FBZU8sRUFBSWdELG9CQUNqQzlDLE1BQUssSUFBMEIsSUFBeEJILEVBQVV5RCxHQUFjLEVBQzlCckosRUFBUzRGLEVBQVMvRSxJQUNsQitELEVBQVNhLFlBQVksQ0FDbkIvRSxLQUFNa0YsRUFBU2xGLEtBQ2ZtRSxNQUFPZSxFQUFTZixRQUVsQkQsRUFBU1csVUFBVSxDQUFFNUMsT0FBUWlELEVBQVNqRCxTQUN0QzhELEVBQVNrQixZQUFZMEIsRUFBU0MsY0FFL0JyRCxPQUFPQyxJQUNOQyxRQUFRQyxJQUFSLGlCQUFzQkYsT0FTMUJ2RCxFQUFPbkQsaUJBQWlCLFNBSnhCLFdBQ0VtSCxFQUFZeEQsT0FDWnFCLEVBQWUsZUFBZTlFLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH1cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIF9yZXNldEZvcm0oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX3Jlc2V0Rm9ybSgpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgaGFuZGxlTGlrZUJ1dHRvbiB9LFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICB1c2VySWRcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQpXG4gICAgKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9pZClcbiAgICApO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIHNyYzogdGhpcy5fbGluayB9KVxuICAgICk7XG4gIH1cblxuICByZW1vdmVDYXJkRnJvbURPTSA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9O1xuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzb24pID0+IHBlcnNvbi5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cbiAgaGFuZGxlTGlrZUNhcmQgPSAobmV3TGlrZXMpID0+IHtcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gIH07XG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfbGlrZVwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfZGVsZXRlXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9saWtlc0NvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9qb2JcIik7XG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfZWRpdFwiKTtcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2FkZFwiKTtcbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLW92ZXJsYXlcIik7XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICB0aGlzLl9oYW5kbGVNb3VzZURvd25DbG9zZVxuICAgICk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJtb3VzZWRvd25cIixcbiAgICAgIHRoaXMuX2hhbmRsZU1vdXNlRG93bkNsb3NlXG4gICAgKTtcbiAgfVxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG4gIF9oYW5kbGVNb3VzZURvd25DbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSB8fFxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b25fdHlwZV9jbG9zZVwiKVxuICAgICkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZVpvb20gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgdGhpcy5faW1hZ2Vab29tVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIik7XG4gIH1cblxuICBvcGVuKHsgbGluaywgbmFtZSB9KSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2ltYWdlWm9vbS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlWm9vbS5hbHQgPSBgSW1hZ2Ugb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5faW1hZ2Vab29tVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCwgYnV0dG9uVGV4dCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IGJ1dHRvblRleHQ7XG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxuICAgICk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgZm9ybVJlc2V0KCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2hvd0xvYWRpbmcoKSB7XG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgfVxuICBoaWRlTG9hZGluZygpIHtcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICApO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQge1xuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBlZGl0QnV0dG9uLFxuICBhZGRCdXR0b24sXG4gIGF2YXRhcixcbiAgY29uZmlnLFxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvQXBpLmpzXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZm9ybSB2YWxpZGF0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihjb25maWcpO1xuXG4vKiAtLS0tLS0tLS0tLS0tIG5ldyBjbGFzc2VzJyBpbnN0YW5jZXMgd2l0aCBuZWNlc3Nhcnkgc2VsZWN0b3JzIC0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3VzZXItbmFtZVwiLFxuICB1c2VyQWJvdXRTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1qb2JcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiLFxuICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCxcbiAgXCJTYXZlXCJcbik7XG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiLFxuICBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCxcbiAgXCJDcmVhdGVcIlxuKTtcbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsXG4gIGhhbmRsZUF2YXRhclN1Ym1pdCxcbiAgXCJTYXZlXCJcbik7XG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfem9vbS1jYXJkXCIpO1xuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xuXG4vKiAtLSBlbmFibGUgaW5oZXJpdGVkIGV2ZW50bGlzdGVuZXJzIG9uIGluc3RhbmNlcyBmcm9tIHBhcmVudCBQb3B1cCBjbGFzcyAtLSAqL1xuXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBlZGl0aW5nIHRoZSBwcm9maWxlIGJsb2NrIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KHVzZXJEYXRhKSB7XG4gIHByb2ZpbGVQb3B1cC5zaG93TG9hZGluZygpO1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGUodXNlckRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICAgIHByb2ZpbGVQb3B1cC5mb3JtUmVzZXQoKTtcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJ9YCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9maWxlUG9wdXAuaGlkZUxvYWRpbmcoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRWRpdEJ1dHRvbigpIHtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgam9iSW5wdXQudmFsdWUgPSBhYm91dDtcbiAgZm9ybVZhbGlkYXRvcnNbXCJmb3JtLXByb2ZpbGVcIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUVkaXRCdXR0b24pO1xuXG4vKiAtLS0tLS0gdXNpbmcgbmV3IGluc3RhbmNlIG9mIFNlY3Rpb24gY2xhc3MgdG8gZGlzcGxheSBpbml0aWFsIGNhcmRzIC0tLS0tLSAqL1xuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgICAgIHtcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKHsgbGluazogZGF0YS5saW5rLCBuYW1lOiBkYXRhLm5hbWUgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGVEZWxldGVDYXJkOiAoaWQpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLm9wZW4oKTtcblxuICAgICAgICAgICAgZGVsZXRlUG9wdXAuc2V0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgZGVsZXRlUG9wdXAuc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgYXBpXG4gICAgICAgICAgICAgICAgLmRlbGV0ZUNhcmQoaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FyZC5yZW1vdmVDYXJkRnJvbURPTSgpO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlUG9wdXAuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlTGlrZUJ1dHRvbjogKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0FscmVhZHlsaWtlZCA9IGNhcmQuaXNMaWtlZCgpO1xuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeWxpa2VkKSB7XG4gICAgICAgICAgICAgIGFwaVxuICAgICAgICAgICAgICAgIC51bmxpa2VDYXJkKGlkKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXBpXG4gICAgICAgICAgICAgICAgLmxpa2VDYXJkKGlkKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFwiI2NhcmRcIixcbiAgICAgICAgdXNlcklkXG4gICAgICApO1xuICAgICAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNfX2NhcmQtZ3JpZFwiXG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYWRkaW5nIG5ldyBjYXJkIGJsb2NrIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KHsgbmFtZSwgdXJsIH0pIHtcbiAgYWRkQ2FyZFBvcHVwLnNob3dMb2FkaW5nKCk7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBsaW5rOiB1cmwsXG4gIH07XG4gIGFwaVxuICAgIC5jcmVhdGVDYXJkKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShyZXMpO1xuICAgICAgYWRkQ2FyZFBvcHVwLmZvcm1SZXNldCgpO1xuICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGFkZENhcmRQb3B1cC5oaWRlTG9hZGluZygpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gaGFuZGxlQWRkQnV0dG9uKCkge1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1tcImZvcm0tYWRkLWNhcmRcIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUFkZEJ1dHRvbik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbnZva2luZyBBcGkgaW5zdGFuY2Ugd2l0aCB2YWxpZCB0b2tlbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjBkMzgwYzA2LTViZjktNGY5ZS1iMzhmLWY4ZTRiMTcyODAwM1wiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwb3B1bGF0aW5nIHBhZ2Ugd2l0aCAgaW5pdGlhbCBkYXRhIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmxldCB1c2VySWQ7XG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmREYXRhXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IHVzZXJEYXRhLmFib3V0LFxuICAgIH0pO1xuICAgIHVzZXJJbmZvLnNldEF2YXRhcih7IGF2YXRhcjogdXNlckRhdGEuYXZhdGFyIH0pO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmREYXRhLnJldmVyc2UoKSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKTtcbiAgfSk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB1cGRhdGluZyBhdmF0YXIgYmxvY2sgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyQ2xpY2soKSB7XG4gIGF2YXRhclBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJmb3JtLWF2YXRhclwiXS5yZXNldFZhbGlkYXRpb24oKTtcbn1cbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQXZhdGFyQ2xpY2spO1xuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KHVzZXJEYXRhKSB7XG4gIGF2YXRhclBvcHVwLnNob3dMb2FkaW5nKCk7XG4gIGFwaVxuICAgIC5lZGl0QXZhdGFyKHVzZXJEYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXMpO1xuICAgICAgYXZhdGFyUG9wdXAuZm9ybVJlc2V0KCk7XG4gICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJ9YCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJQb3B1cC5oaWRlTG9hZGluZygpO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZSxcbiAgICBhYm91dCxcbiAgICBhdmF0YXIsXG4gICAgdXNlck5hbWVTZWxlY3RvcixcbiAgICB1c2VyQWJvdXRTZWxlY3RvcixcbiAgICBhdmF0YXJTZWxlY3RvcixcbiAgfSkge1xuICAgICh0aGlzLl9uYW1lID0gbmFtZSksXG4gICAgICAodGhpcy5fYWJvdXQgPSBhYm91dCksXG4gICAgICAodGhpcy5fYXZhdGFyID0gYXZhdGFyKSxcbiAgICAgICh0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpKSxcbiAgICAgICh0aGlzLl91c2VyQWJvdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQWJvdXRTZWxlY3RvcikpLFxuICAgICAgKHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX3VzZXJBYm91dEVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuICBzZXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYXZhdGFyXG4gICAgICA/IGB1cmwoJHthdmF0YXJ9KWBcbiAgICAgIDogYHVybCgke3RoaXMuX2F2YXRhcn0pYDtcbiAgfVxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lIHx8IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fdXNlckFib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0IHx8IHRoaXMuX2Fib3V0O1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgfVxuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gYWN0aW9uO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XG4gICAgfSk7XG4gIH1cbiAgc2hvd0xvYWRpbmcoKSB7XG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJEZWxldGluZy4uLlwiO1xuICB9XG4gIGhpZGVMb2FkaW5nKCkge1xuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiWWVzXCI7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aENvbmZpcm1hdGlvbjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGNhcmQgPSB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG4gIF9jdXN0b21GZXRjaCA9ICh1cmwsIGhlYWRlcnMpID0+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBoZWFkZXJzKS50aGVuKChyZXMpID0+XG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcbiAgICApO1xuICB9O1xuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG4gIGNyZWF0ZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG4gIH1cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuICBlZGl0UHJvZmlsZSh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG4gIGVkaXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgfSk7XG4gIH1cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX3Jlc2V0Rm9ybSIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VCdXR0b24iLCJfZWxlbWVudCIsIm5ld0xpa2VzIiwiX2xpa2VzIiwiX3JlbmRlckxpa2VzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX293bmVySWQiLCJvd25lciIsIl91c2VySWQiLCJsaWtlcyIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9kZWxldGVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJpc0xpa2VkIiwicGVyc29uIiwiX2xpa2VzQ291bnQiLCJsZW5ndGgiLCJnZW5lcmF0ZUNhcmQiLCJfY2FyZEltYWdlVGl0bGUiLCJhbHQiLCJzdHlsZSIsImRpc3BsYXkiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiX3BvcHVwRWxlbWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlTW91c2VEb3duQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImJ1dHRvblRleHQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9idXR0b24iLCJfYnV0dG9uVGV4dCIsIl9pbnB1dHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJmb3JtUmVzZXQiLCJyZXNldCIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJzZXRFdmVudExpc3RlbmVycyIsImZvcm1WYWxpZGF0b3JzIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJ1c2VySW5mbyIsImFib3V0IiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJBYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfYWJvdXQiLCJfYXZhdGFyIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyQWJvdXRFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJnZXRVc2VySW5mbyIsInNldEF2YXRhciIsImJhY2tncm91bmRJbWFnZSIsInNldFVzZXJJbmZvIiwicHJvZmlsZVBvcHVwIiwiUG9wdXBXaXRoRm9ybSIsInVzZXJEYXRhIiwiYXBpIiwiZWRpdFByb2ZpbGUiLCJ0aGVuIiwicmVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsImFkZENhcmRQb3B1cCIsInVybCIsImNyZWF0ZUNhcmQiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJhdmF0YXJQb3B1cCIsImVkaXRBdmF0YXIiLCJpbWFnZVBvcHVwIiwiX2ltYWdlWm9vbSIsIl9pbWFnZVpvb21UaXRsZSIsImRlbGV0ZVBvcHVwIiwic2V0QWN0aW9uIiwiYWN0aW9uIiwiX2hhbmRsZVN1Ym1pdCIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImNhcmQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsImRlbGV0ZUNhcmQiLCJyZW1vdmVDYXJkRnJvbURPTSIsInVubGlrZUNhcmQiLCJoYW5kbGVMaWtlQ2FyZCIsImxpa2VDYXJkIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2N1c3RvbUZldGNoIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiY2FyZERhdGEiLCJyZXZlcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==